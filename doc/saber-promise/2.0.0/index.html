<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    
    <title>saber-promise | saber</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="icon" href="/saber/favicon.png">
    <link rel="stylesheet" href="/saber/css/master.css" type="text/css">


    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement('script');
        hm.src = '//hm.baidu.com/hm.js?a12dc3a09e80cd9a547dcefbce88b88d';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>

    <body class="doc">
        <header>
    <div class="topbar">
        <h1 class="logo"><a href="/saber/">saber</a></h1>
        <nav class="menu">
            <ul>
                
                
                <li><a href="/saber/">首页</a></li>
                
                
                <li><a href="/saber/feature">特性</a></li>
                
                
                <li><a href="/saber/doc" class="active">文档</a></li>
                
                
                <li><a href="/saber/download">下载</a></li>
                
                
                <li><a href="https://github.com/ecomfe/saber" target="_blank">GitHub</a></li>
                
            </ul>
        </nav>
    </div>
</header>

        <script>
window.DOC_DATA = [{"name":"edpx-mobile","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"1.0.0"}]},{"name":"rebas","versions":[{"name":"0.2.4","files":["app.md","request.md","response.md","server.md"]},{"name":"0.4.0-alpha.1"},{"name":"0.4.0-alpha.2"},{"name":"0.4.0-alpha.3"},{"name":"0.4.0-alpha.4"},{"name":"0.4.0-beta.1"}]},{"name":"rider","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.3.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.3.3","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.3.4","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.0","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.3","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.4","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0-alpha.1","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0-alpha.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0","files":["animate.md","api.md","breakpoint.md","clockhand.md","code-style.md","connect.md","easing.md","faq.md","feature.md","helper.md","image.md","initialize.md","retina.md","setting.md","shape.md","typography.md","unit.md"]}]},{"name":"saber-ajax","versions":[{"name":"0.1.0"},{"name":"0.1.1-beta.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"0.1.4"},{"name":"0.1.5"},{"name":"0.1.6"},{"name":"1.0.0","files":["requester.md"]},{"name":"2.0.0-alpha.1","files":["requester.md"]},{"name":"2.0.0-alpha.2","files":["requester.md"]},{"name":"2.0.0-beta.1","files":["requester.md"]},{"name":"2.0.0-beta.2","files":["requester.md"]},{"name":"2.0.0","files":["requester.md"]}]},{"name":"saber-cookie","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"0.1.4"},{"name":"0.1.5"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"}]},{"name":"saber-dom","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"0.4.1"},{"name":"1.0.0","files":["css.md","data.md","selector.md","traversal.md"]}]},{"name":"saber-emitter","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"0.5.0"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-beta.1"},{"name":"2.0.0"}]},{"name":"saber-env","versions":[{"name":"0.0.1-beta.1"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.4.0"},{"name":"0.4.1"},{"name":"0.4.2"},{"name":"0.4.3"},{"name":"1.0.0","files":["connection.md","media.md"]}]},{"name":"saber-fastbutton","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"1.0.0"}]},{"name":"saber-firework","versions":[{"name":"0.1.0-beta.1"},{"name":"0.1.0-beta.3"},{"name":"0.1.0-beta.4"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.2.4","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.2.5","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.2.6","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.1","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.2","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.1","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.2","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"1.0.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"2.0.0-alpha.1","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-alpha.2","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-beta.1","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-beta.2","files":["faq.md","guide.md","processor.md"]},{"name":"2.0.0","files":["faq.md","guide.md","processor.md"]}]},{"name":"saber-geo","versions":[{"name":"0.1.0"}]},{"name":"saber-lang","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"1.0.0","files":["function.md","type.md"]},{"name":"1.0.2","files":["function.md","type.md"]},{"name":"2.0.0-alpha.1","files":["function.md","type.md"]},{"name":"2.0.0-beta.1","files":["function.md","type.md"]},{"name":"2.0.0","files":["function.md","type.md"]}]},{"name":"saber-log","versions":[{"name":"0.1.0"}]},{"name":"saber-matchmedia","versions":[{"name":"0.1.0"},{"name":"1.0.0"}]},{"name":"saber-mm","versions":[{"name":"0.1.0","files":["model.md","presenter.md","view.md"]},{"name":"0.2.0","files":["model.md","presenter.md","view.md"]},{"name":"0.2.2","files":["model.md","presenter.md","view.md"]},{"name":"0.4.0","files":["model.md","presenter.md","view.md"]},{"name":"1.0.0","files":["model.md","presenter.md","view.md"]}]},{"name":"saber-promise","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2-beta.1"},{"name":"0.1.2-beta.2"},{"name":"0.1.2-beta.3"},{"name":"0.1.2"},{"name":"1.0.0","files":["promise.md","resolver.md"]},{"name":"1.0.2","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.1","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.2","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.3","files":["promise.md","resolver.md"]},{"name":"2.0.0-beta.1","files":["promise.md","resolver.md"]},{"name":"2.0.0","files":["promise.md","resolver.md"]}]},{"name":"saber-rainbow","versions":[{"name":"0.1.0"}]},{"name":"saber-router","versions":[{"name":"0.1.0-beta.1"},{"name":"0.1.0-beta.2"},{"name":"0.1.0-beta.3"},{"name":"0.1.0-beta.4"},{"name":"0.1.0-beta.5"},{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.2.2"},{"name":"0.2.3"},{"name":"0.2.4"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"},{"name":"2.0.0-beta.1"},{"name":"2.0.0"}]},{"name":"saber-run","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"1.0.0","files":["animation.md"]}]},{"name":"saber-scroll","versions":[{"name":"0.1.0"},{"name":"0.1.1-beta.1"},{"name":"0.1.2","files":["plugin"]},{"name":"0.1.3","files":["plugin"]},{"name":"0.1.4","files":["plugin"]},{"name":"1.0.0","files":["plugin","scroller.md"]}]},{"name":"saber-storage","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"},{"name":"2.0.0-beta.1"}]},{"name":"saber-string","versions":[{"name":"0.1.1"},{"name":"0.2.0-0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"1.0.0"}]},{"name":"saber-tap","versions":[{"name":"0.1.0-0"},{"name":"0.1.0-1"},{"name":"0.1.0-2"},{"name":"0.1.0-3"},{"name":"0.1.0-4"},{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"1.0.0"}]},{"name":"saber-uri","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"1.0.0","files":["uri.md"]},{"name":"1.0.1","files":["uri.md"]},{"name":"1.0.4","files":["uri.md"]},{"name":"1.0.6","files":["uri.md"]}]},{"name":"saber-viewport","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.2.1-beta.1"},{"name":"0.2.1-beta.2"},{"name":"0.2.1-beta.3"},{"name":"0.2.1-beta.4"},{"name":"0.2.1-beta.5"},{"name":"0.2.1-beta.6"},{"name":"0.2.1-beta.7"},{"name":"0.2.5"},{"name":"0.2.6"},{"name":"0.2.8"},{"name":"0.2.9"},{"name":"0.2.10"},{"name":"0.2.11"},{"name":"0.2.12"},{"name":"1.0.0","files":["page.md"]},{"name":"1.1.0","files":["page.md"]}]},{"name":"saber-widget","versions":[{"name":"0.1.0","files":["api-main.md","api-slider.md","api-widget.md"]},{"name":"0.1.1","files":["api-main.md","api-slider.md","api-widget.md"]},{"name":"0.2.0","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.1","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.2","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.3","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.1","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.2","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"1.0.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-linkagemenu.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"1.4.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-fileupload.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-linkagemenu.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]}]}];
</script>

<main>
    <aside id="doc-menu" data-repo="saber-promise" data-version="2.0.0"></aside>
    <article>
    
    <h1 class="article-title">saber-promise</h1>
    

    <p><img src="https://img.shields.io/bower/v/saber-promise.svg?style=flat-square" alt="Bower version"> <a href="https://npmjs.org/package/saber-promise" target="_blank" rel="external"><img src="https://img.shields.io/npm/v/saber-promise.svg?style=flat-square" alt="NPM version"></a> <a href="https://travis-ci.org/ecomfe/saber-promise" target="_blank" rel="external"><img src="https://img.shields.io/travis/ecomfe/saber-promise.svg?style=flat-square" alt="Build Status"></a> <a href="./LICENSE"><img src="https://img.shields.io/npm/l/saber-promise.svg?style=flat-square" alt="License"></a> <a href="http://efe.baidu.com" target="_blank" rel="external"><img src="https://img.shields.io/badge/EFE-Mobile_Team-blue.svg?style=flat-square" alt="EFE Mobile Team"></a></p>
<p><del><a href="http://baike.baidu.com/view/8420590.htm" target="_blank">吾王</a>的</del>移动端的 <a href="http://promises-aplus.github.io/promises-spec/" target="_blank" rel="external">Promise/A+</a> 实现，兼容 node 环境，遵循 <strong>1.1</strong> 规范</p>
<h2 id="Installation">Installation</h2>
<p>移动端环境下通过 <a href="https://github.com/ecomfe/edp" target="_blank" rel="external">edp</a> 引入模块：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ edp import saber-promise</div></pre></td></tr></table></figure>

<p>node 环境下通过 <code>npm</code> 引入模块：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install saber-promise --save</div></pre></td></tr></table></figure>

<h2 id="Usage">Usage</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Resolver = <span class="built_in">require</span>(<span class="string">'saber-promise'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomeThing</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">var</span> resolver = <span class="keyword">new</span> Resolver();</div><div class="line">    <span class="comment">// 做一些异步操作</span></div><div class="line">    doSync(</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> </span>{</div><div class="line">            <span class="comment">// 异步操作成功了</span></div><div class="line">            resolver.fulfill(result);</div><div class="line">        },</div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">            <span class="comment">// 异步操作失败了</span></div><div class="line">            resolver.reject(<span class="string">'connect error'</span>);</div><div class="line">        }</div><div class="line">    );</div><div class="line">    <span class="comment">// 返回Promise对象</span></div><div class="line">    <span class="keyword">return</span> resolver.promise();</div><div class="line">}</div><div class="line"></div><div class="line">doSomeThing()</div><div class="line">    <span class="comment">// 对异步结果进行处理</span></div><div class="line">    .then(</div><div class="line">        <span class="comment">// 处理成功的情况</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="params">(result)</span> </span>{</div><div class="line">            <span class="built_in">console</span>.log(result);</div><div class="line">        },</div><div class="line">        <span class="comment">// 处理失败的情况</span></div><div class="line">        <span class="function"><span class="keyword">function</span> <span class="params">(reason)</span> </span>{</div><div class="line">            <span class="built_in">console</span>.log(reason);</div><div class="line">        }</div><div class="line">    )</div><div class="line">    <span class="comment">// 不管成功还是失败都提示操作成功</span></div><div class="line">    .then(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'操作完成'</span>)</div><div class="line">    });</div></pre></td></tr></table></figure>

<h3 id="About_Exception">About Exception</h3>
<p>规范要求捕获并处理所有的异常（<a href="http://promisesaplus.com/#point-50" target="_blank" rel="external">#2.2.7.2</a>），在项目开发中可能会经常遇到非预期的异常被自动处理而导致无从跟踪，这些错误基本都是程序级别的书写错误而非可预期的业务逻辑错误，一般都不会有相应的 <code>reject</code> 处理。针对这种情况提供了全局事件：<code>reject</code> 与 <code>resolve</code> 来监控处理（需要先调用 <a href="#enableglobaleventemitter">Resolver.enableGlobalEvent()</a> 启用全局事件），更暴力一些还可以在 <strong>开发环境</strong> 中使用 <code>Resolver.disableExceptionCapture()</code> 来直接关闭异常处理，方便查找问题。</p>
<p><strong>警告</strong> 异常相关的 API 都是<strong>非标准的</strong>，只建议在调试阶段使用，这些 API 在未来某版本中可能会被废除</p>
<h2 id="API">API</h2>
<ul>
<li><a href="#methods">Methods</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#classes">Classes</a></li>
</ul>
<h3 id="Methods">Methods</h3>
<h4 id="promise(fn)">promise(fn)</h4>
<p>创建<code>Promise</code>对象</p>
<ul>
<li><strong>fn</strong> <code>{Function}</code> 构造函数，第一个参数是 <a href="doc/resolver.html">Resolver</a> 对象</li>
<li><em>return</em> <code>{Promise}</code> <a href="doc/promise.html">Promise</a> 对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> promise = Resolver.promise(<span class="function"><span class="keyword">function</span> <span class="params">(resolver)</span> </span>{</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">        resolver.resolve();</div><div class="line">    }, <span class="number">0</span>);</div><div class="line">});</div><div class="line"></div><div class="line">promise.then(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{</div><div class="line">    ...</div><div class="line">});</div></pre></td></tr></table></figure>

<h4 id="fulfilled(data)">fulfilled(data)</h4>
<p>创建已经处于 <code>fulfilled</code> 状态的 <a href="doc/promise.html">Promise</a> 对象</p>
<ul>
<li><strong>data</strong> <code>{*}</code> 数据</li>
<li><em>return</em> <code>{Promise}</code> <a href="doc/promise.html">Promise</a> 对象</li>
</ul>
<h4 id="resolved(data)">resolved(data)</h4>
<p>创建已经处于 <code>fulfilled</code> 状态的 <a href="doc/promise.html">Promise</a> 对象，与 <a href="#fulfilleddata">fulfilled</a> 完全相同，别名而已…</p>
<ul>
<li><strong>data</strong> <code>{*}</code> 数据</li>
<li><em>return</em> <code>{Promise}</code> <a href="doc/promise.html">Promise</a> 对象</li>
</ul>
<h4 id="rejected(reason)">rejected(reason)</h4>
<p>创建已经处于 <code>rejected</code> 状态的 <a href="doc/promise.html">Promise</a> 对象</p>
<ul>
<li><strong>reason</strong> <code>{*}</code> 失败原因</li>
<li><em>return</em> <code>{Promise}</code> <a href="doc/promise.html">Promise</a> 对象</li>
</ul>
<h4 id="all(promises)">all(promises)</h4>
<p>关联多个 <a href="doc/promise.html">Promise</a> 对象并返回一个新的 <code>Promise</code> 对象，返回的 <code>Promise</code> 在所有被关联的 <code>Promise</code> 对象都 <code>fulfilled</code> 时达到 <code>fulfilled</code> 状态，如果有任意 <code>promise</code> 对象 <code>rejected</code> 则立即达到 <code>rejected</code> 状态</p>
<ul>
<li><strong>promises</strong> <code>{Array.&lt;promise&gt;|...promise}</code> 待关联的 <code>Promise</code> 对象，可以是数组参数或者多个 <code>Promise</code> 对象</li>
<li><em>return</em> <code>{Promise}</code> <a href="doc/promise.html">Promise</a> 对象</li>
</ul>
<h4 id="enableGlobalEvent(Emitter)">enableGlobalEvent(Emitter)</h4>
<p><strong>非标准API</strong> 启动全局事件</p>
<ul>
<li><strong>Emitter</strong> <code>{Object}</code> 事件发射器</li>
</ul>
<p>全局事件是默认关闭的，<code>saber-promise</code> 不强依赖于 <a href="https://github.com/ecomfe/saber-emitter" target="_blank" rel="external">saber-emitter</a> 或者任何其它事件发射器，所以在开启全局事件时需要传入一个事件发射器来启用自定义事件，建议使用 <a href="https://github.com/ecomfe/saber-emitter" target="_blank" rel="external">saber-emitter</a>，如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Emitter = <span class="built_in">require</span>(<span class="string">'saber-emitter'</span>);</div><div class="line">Resolver.enableGlobalEvent(Emitter);</div><div class="line"></div><div class="line"><span class="comment">// resolved事件</span></div><div class="line">Resolver.on(<span class="string">'resolve'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>{</div><div class="line">    ...</div><div class="line">});</div><div class="line"></div><div class="line"><span class="comment">// rejected事件</span></div><div class="line">Resolver.on(<span class="string">'reject'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(reason)</span> </span>{</div><div class="line">    ...</div><div class="line">});</div></pre></td></tr></table></figure>

<h4 id="disableExceptionCapture()">disableExceptionCapture()</h4>
<p><strong>非标准 API</strong></p>
<p>禁用异常处理，默认时启动的。如果全局事件都不想监控了，用这个可以直接关闭异常处理，方便调试，简单粗暴～</p>
<h4 id="enableExceptionCapture()">enableExceptionCapture()</h4>
<p><strong>非标准 API</strong></p>
<p>启用异常处理</p>
<h3 id="Events">Events</h3>
<p>注册任何全局事件前需要先启用全局事件，具体请参考 <a href="#enableglobaleventemitter">enableGlobalEvent(Emitter)</a></p>
<h4 id="resolve">resolve</h4>
<p>resolved事件 任何 <a href="doc/resolver.html">Resolver</a> 对象处于 <code>fulfilled</code> 时触发</p>
<ul>
<li><strong>data</strong> <code>{*}</code> 数据</li>
</ul>
<h4 id="reject">reject</h4>
<p>rejected事件 任何 <a href="doc/resolver.html">Resolver</a> 对象处于 <code>rejected</code> 时触发</p>
<ul>
<li><strong>reason</strong> <code>{*}</code> 失败原因</li>
</ul>
<h3 id="Classes">Classes</h3>
<ul>
<li><a href="doc/resolver.html">Resolver</a> 操作的状态保持对象，用于产生 <a href="promise.html">Promise</a> 对象</li>
<li><a href="doc/promise.html">Promise</a> 由 <a href="resolver.html">Resolver</a> 对象产生，用于表示一个正在进行的操作</li>
</ul>
<h2 id="Test">Test</h2>
<p>使用Promises/A+规范的 <a href="https://github.com/promises-aplus/promises-tests" target="_blank" rel="external">Test Suite</a></p>
<pre><code><span class="variable">$ </span>npm install
<span class="variable">$ </span>npm test
</code></pre><p>基本性能测试请参考<a href="https://github.com/treelite/promise-perf-tests" target="_blank" rel="external">这里</a></p>

</article>

    

</main>

        <footer>
    <p>&copy;2014 <a href="http://efe.baidu.com" target="_blank">Baidu EFE</a>.</p>
</footer>

        <script src="/saber/js/master.js" type="text/javascript"></script>


    </body>
</html>
