<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    
    <title>Rebas | saber</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="icon" href="/saber/favicon.png">
    <link rel="stylesheet" href="/saber/css/master.css" type="text/css">


    <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement('script');
        hm.src = '//hm.baidu.com/hm.js?a12dc3a09e80cd9a547dcefbce88b88d';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
    </script>
</head>

    <body class="doc">
        <header>
    <div class="topbar">
        <h1 class="logo"><a href="/saber/">saber</a></h1>
        <nav class="menu">
            <ul>
                
                
                <li><a href="/saber/">首页</a></li>
                
                
                <li><a href="/saber/feature">特性</a></li>
                
                
                <li><a href="/saber/doc" class="active">文档</a></li>
                
                
                <li><a href="/saber/download">下载</a></li>
                
                
                <li><a href="https://github.com/ecomfe/saber" target="_blank">GitHub</a></li>
                
            </ul>
        </nav>
    </div>
</header>

        <script>
window.DOC_DATA = [{"name":"edpx-mobile","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"1.0.0"}]},{"name":"rebas","versions":[{"name":"0.2.4","files":["app.md","request.md","response.md","server.md"]},{"name":"0.4.0-alpha.1"},{"name":"0.4.0-alpha.2"},{"name":"0.4.0-alpha.3"},{"name":"0.4.0-alpha.4"},{"name":"0.4.0-beta.1"},{"name":"0.4.0","files":["start.md"]}]},{"name":"rider","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.3.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.3.3","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.3.4","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.0","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.3","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"0.4.4","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0-alpha.1","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0-alpha.2","files":["api.md","code-style.md","connect.md","demo-and-ut.md","faq.md"]},{"name":"2.0.0","files":["animate.md","api.md","breakpoint.md","clockhand.md","code-style.md","connect.md","easing.md","faq.md","feature.md","helper.md","image.md","initialize.md","retina.md","setting.md","shape.md","typography.md","unit.md"]}]},{"name":"saber-ajax","versions":[{"name":"0.1.0"},{"name":"0.1.1-beta.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"0.1.4"},{"name":"0.1.5"},{"name":"0.1.6"},{"name":"1.0.0","files":["requester.md"]},{"name":"2.0.0-alpha.1","files":["requester.md"]},{"name":"2.0.0-alpha.2","files":["requester.md"]},{"name":"2.0.0-beta.1","files":["requester.md"]},{"name":"2.0.0-beta.2","files":["requester.md"]},{"name":"2.0.0","files":["requester.md"]}]},{"name":"saber-cookie","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"0.1.4"},{"name":"0.1.5"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"}]},{"name":"saber-dom","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"0.4.1"},{"name":"1.0.0","files":["css.md","data.md","selector.md","traversal.md"]}]},{"name":"saber-emitter","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"0.5.0"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-beta.1"},{"name":"2.0.0"}]},{"name":"saber-env","versions":[{"name":"0.0.1-beta.1"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.4.0"},{"name":"0.4.1"},{"name":"0.4.2"},{"name":"0.4.3"},{"name":"1.0.0","files":["connection.md","media.md"]}]},{"name":"saber-fastbutton","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"1.0.0"}]},{"name":"saber-firework","versions":[{"name":"0.1.0-beta.1"},{"name":"0.1.0-beta.3"},{"name":"0.1.0-beta.4"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.2.4","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.2.5","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.2.6","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.1","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.3.2","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.1","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"0.4.2","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"1.0.0","files":["action.md","config.md","faq.md","guide.md","model.md","route.md","view.md"]},{"name":"2.0.0-alpha.1","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-alpha.2","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-beta.1","files":["config.md","faq.md","guide.md","route.md"]},{"name":"2.0.0-beta.2","files":["faq.md","guide.md","processor.md"]},{"name":"2.0.0","files":["faq.md","guide.md","processor.md"]}]},{"name":"saber-geo","versions":[{"name":"0.1.0"}]},{"name":"saber-lang","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"0.3.1"},{"name":"0.4.0"},{"name":"1.0.0","files":["function.md","type.md"]},{"name":"1.0.2","files":["function.md","type.md"]},{"name":"2.0.0-alpha.1","files":["function.md","type.md"]},{"name":"2.0.0-beta.1","files":["function.md","type.md"]},{"name":"2.0.0","files":["function.md","type.md"]}]},{"name":"saber-log","versions":[{"name":"0.1.0"}]},{"name":"saber-matchmedia","versions":[{"name":"0.1.0"},{"name":"1.0.0"}]},{"name":"saber-mm","versions":[{"name":"0.1.0","files":["model.md","presenter.md","view.md"]},{"name":"0.2.0","files":["model.md","presenter.md","view.md"]},{"name":"0.2.2","files":["model.md","presenter.md","view.md"]},{"name":"0.4.0","files":["model.md","presenter.md","view.md"]},{"name":"1.0.0","files":["model.md","presenter.md","view.md"]}]},{"name":"saber-promise","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2-beta.1"},{"name":"0.1.2-beta.2"},{"name":"0.1.2-beta.3"},{"name":"0.1.2"},{"name":"1.0.0","files":["promise.md","resolver.md"]},{"name":"1.0.2","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.1","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.2","files":["promise.md","resolver.md"]},{"name":"2.0.0-alpha.3","files":["promise.md","resolver.md"]},{"name":"2.0.0-beta.1","files":["promise.md","resolver.md"]},{"name":"2.0.0","files":["promise.md","resolver.md"]}]},{"name":"saber-rainbow","versions":[{"name":"0.1.0"}]},{"name":"saber-router","versions":[{"name":"0.1.0-beta.1"},{"name":"0.1.0-beta.2"},{"name":"0.1.0-beta.3"},{"name":"0.1.0-beta.4"},{"name":"0.1.0-beta.5"},{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.2.1"},{"name":"0.2.2"},{"name":"0.2.3"},{"name":"0.2.4"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"},{"name":"2.0.0-beta.1"},{"name":"2.0.0"}]},{"name":"saber-run","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"1.0.0","files":["animation.md"]}]},{"name":"saber-scroll","versions":[{"name":"0.1.0"},{"name":"0.1.1-beta.1"},{"name":"0.1.2","files":["plugin"]},{"name":"0.1.3","files":["plugin"]},{"name":"0.1.4","files":["plugin"]},{"name":"1.0.0","files":["plugin","scroller.md"]}]},{"name":"saber-storage","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"1.0.0"},{"name":"2.0.0-alpha.1"},{"name":"2.0.0-alpha.2"},{"name":"2.0.0-beta.1"}]},{"name":"saber-string","versions":[{"name":"0.1.1"},{"name":"0.2.0-0"},{"name":"0.2.0"},{"name":"0.3.0"},{"name":"1.0.0"}]},{"name":"saber-tap","versions":[{"name":"0.1.0-0"},{"name":"0.1.0-1"},{"name":"0.1.0-2"},{"name":"0.1.0-3"},{"name":"0.1.0-4"},{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"1.0.0"}]},{"name":"saber-uri","versions":[{"name":"0.1.0"},{"name":"0.1.1"},{"name":"0.1.2"},{"name":"0.1.3"},{"name":"1.0.0","files":["uri.md"]},{"name":"1.0.1","files":["uri.md"]},{"name":"1.0.4","files":["uri.md"]},{"name":"1.0.6","files":["uri.md"]}]},{"name":"saber-viewport","versions":[{"name":"0.1.0"},{"name":"0.2.0"},{"name":"0.2.1-beta.1"},{"name":"0.2.1-beta.2"},{"name":"0.2.1-beta.3"},{"name":"0.2.1-beta.4"},{"name":"0.2.1-beta.5"},{"name":"0.2.1-beta.6"},{"name":"0.2.1-beta.7"},{"name":"0.2.5"},{"name":"0.2.6"},{"name":"0.2.8"},{"name":"0.2.9"},{"name":"0.2.10"},{"name":"0.2.11"},{"name":"0.2.12"},{"name":"1.0.0","files":["page.md"]},{"name":"1.1.0","files":["page.md"]}]},{"name":"saber-widget","versions":[{"name":"0.1.0","files":["api-main.md","api-slider.md","api-widget.md"]},{"name":"0.1.1","files":["api-main.md","api-slider.md","api-widget.md"]},{"name":"0.2.0","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.1","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.2","files":["api-main.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin-zoom.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.2.3","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.1","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"0.3.2","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"1.0.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-linkagemenu.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]},{"name":"1.4.0","files":["api-main.md","api-plugin-imageviewflex.md","api-plugin-masker.md","api-plugin-sliderflex.md","api-plugin.md","api-widget-fileupload.md","api-widget-imageview.md","api-widget-lazyload.md","api-widget-linkagemenu.md","api-widget-radiogroup.md","api-widget-slider.md","api-widget-suggestion.md","api-widget.md"]}]}];
</script>

<main>
    <aside id="doc-menu" data-repo="rebas" data-version="0.4.0"></aside>
    <article>
    
    <h1 class="article-title">Rebas</h1>
    

    <p><a href="https://npmjs.org/package/rebas" target="_blank" rel="external"><img src="https://img.shields.io/npm/v/rebas.svg?style=flat-square" alt="NPM version"></a> <a href="https://travis-ci.org/ecomfe/rebas" target="_blank" rel="external"><img src="https://img.shields.io/travis/ecomfe/rebas.svg?style=flat-square" alt="Build Status"></a> <a href="./LICENSE"><img src="https://img.shields.io/npm/l/rebas.svg?style=flat-square" alt="License"></a> <a href="http://efe.baidu.com" target="_blank" rel="external"><img src="https://img.shields.io/badge/EFE-Mobile_Team-blue.svg?style=flat-square" alt="EFE Mobile Team"></a></p>
<p>Node runtime for <a href="https://github.com/ecomfe/saber" target="_blank" rel="external">Saber</a>，base on <a href="http://expressjs.com" target="_blank" rel="external">Express</a></p>
<p><a href="https://github.com/ecomfe/saber" target="_blank" rel="external">Saber</a> 的 node 运行环境，让您在享受 SPA 高內聚、低耦合开发方式的同时拥有优秀的首屏呈现速度与良好的 SEO 。</p>
<h2 id="How">How</h2>
<p>Rebas 使首屏渲染由服务器端完成，极大地降低了 SPA 首屏的白屏时间并解决了 SEO 问题。借助于 node ，服务器端的渲染逻辑不用额外开发，只需要对现有的 Saber 应用进行小幅修改就能让已有的逻辑同时运行在客户端与服务器端。</p>
<p>Saber 所有的基础组件都进行了同构升级，确保能同时运行在客户端与服务器端。对于业务开发只需聚焦业务逻辑，不用特别关注运行平台，剩下的一切就交给 Saber 与 Rebas 吧～</p>
<h2 id="Usage">Usage</h2>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * @fila app.js 应用启动脚本</div><div class="line"> */</div><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'rebas'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 加载路由配置</span></div><div class="line">app.load(<span class="built_in">require</span>(<span class="string">'./lib/config'</span>));</div><div class="line"></div><div class="line"><span class="comment">// 启动服务</span></div><div class="line">app.start();</div></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node app.js</div></pre></td></tr></table></figure>

<p>更多详情请参考 <a href="doc/start.html">Getting start</a> ，从零开始快速构建同构应用</p>
<h2 id="API">API</h2>
<ul>
<li><a href="#methods">Methods</a></li>
<li><a href="#config">Config</a></li>
</ul>
<h3 id="Methods">Methods</h3>
<h4 id="start(port,_options)">start(port, options)</h4>
<p>启动服务</p>
<ul>
<li><strong>port</strong> <code>{number=}</code> 端口号，默认为 <code>8000</code></li>
<li><strong>options</strong> <code>{Object=}</code> 配置项<ul>
<li><strong>template</strong> <code>{string=}</code> 公共模版</li>
<li><strong>templateConfig</strong> <code>{Object=}</code> 模版引擎配置信息，<code>rebas</code> 使用强复用、灵活、高性能的 <a href="http://ecomfe.github.io/etpl/" target="_blank" rel="external">etpl</a> 模版引擎，具体配置请参考 <a href="https://github.com/ecomfe/etpl/blob/master/doc/config.html" target="_blank" rel="external">etpl 配置项</a></li>
<li><strong>templateData</strong> <code>{Object=}</code> 全局模版数据</li>
<li><strong>indexFile</strong> <code>{string=}</code> 主页面模版文件路径，默认为根目录下的 <code>index.html</code></li>
<li><strong>Presenter</strong> <code>{Function=}</code> 自定义 Presenter 基类</li>
<li><strong>View</strong> <code>{Function=}</code> 自定义 View 基类</li>
<li><strong>Model</strong> <code>{Function=}</code> 自定义 Model 基类</li>
</ul>
</li>
</ul>
<p><code>rebas</code> 由 <a href="https://github.com/ecomfe/saber-mm" target="_blank" rel="external">saber-mm</a> 提供 <code>MVP</code> 的实现，<code>Presenter</code>、<code>View</code>、<code>Model</code> 相关的配置与 API 请参考 <a href="https://github.com/ecomfe/saber-mm#classes" target="_blank" rel="external">saber-mm 的说明文档</a></p>
<h4 id="load(routes)">load(routes)</h4>
<p>加载路由配置</p>
<ul>
<li><strong>routes</strong> <code>{Object|Array.&lt;Object&gt;}</code> 路由配置信息，必须包含以下两个必填字段：<ul>
<li><strong>path</strong> <code>{string|RegExp}</code> 路径，必须是以 <code>/</code> 开头的有效路径字符串或者正则表达式，字符串可以包含以<code>:</code>开头的参数化路径，例如：<code>/detail/:id</code></li>
<li><strong>action</strong> <code>{string|Object}</code> Presenter 配置信息，如果是字符串则表示对应文件的路径（为啥叫<code>action</code>而不是<code>presenter</code>，嗯… 历史原因…）</li>
</ul>
</li>
</ul>
<h4 id="get(name)">get(name)</h4>
<p>获取存储在 <code>配置文件夹</code> 下的 <code>JSON</code> 配置信息，<code>配置文件夹</code> 的默认路径为 <code>config</code></p>
<ul>
<li><strong>name</strong> <code>{string}</code> 配置文件名称，不包含 <code>.json</code> 后缀名</li>
<li><em>return</em> <code>{*}</code> 配置信息</li>
</ul>
<p>例如需要获取 <code>config/app.json</code> 文件中的配置信息可以通过如下方式获得：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'rebas'</span>);</div><div class="line"></div><div class="line"><span class="comment">// 获取 `config/app.json` 中的配置信息</span></div><div class="line">app.get(<span class="string">'app'</span>);</div></pre></td></tr></table></figure>

<p>可以通过添加应用启动的参数来修改默认的 <code>配置文件夹</code> 路径，例如：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node app.js config-dev</div></pre></td></tr></table></figure>

<p>此时通过 <code>get</code> 获取的配置信息就来源于 <code>config-dev</code> 文件夹，可以通过此种方式在多种不同环境、不同配置下自由切换</p>
<h4 id="before(middleware)">before(middleware)</h4>
<p>添加在执行页面逻辑前执行的中间件</p>
<ul>
<li><strong>middleware</strong> <code>{Function}</code> 中间件，<code>rebas</code> 基于 <a href="http://expressjs.com/" target="_blank" rel="external">express</a> 提供 Web 服务，兼容 <a href="http://expressjs.com/guide/using-middleware.html" target="_blank" rel="external">express middleware</a>，具体请参考 <a href="http://expressjs.com/4x/api.html#app.use" target="_blank" rel="external">express API</a></li>
</ul>
<h4 id="after(middleware)">after(middleware)</h4>
<p>添加在页面逻辑执行完成后执行的中间件</p>
<ul>
<li><strong>middleware</strong> <code>{Function}</code> 中间件</li>
</ul>
<h4 id="use(plugin)">use(plugin)</h4>
<p>使用插件</p>
<ul>
<li><strong>plugin</strong> <code>{Object}</code> 插件对象，插件必须包含 <code>rebas</code> 方法用于初始化，具体的方法说明如下：<ul>
<li><strong>rebas</strong> <code>{function(app, ...*)}</code> 插件初始化方法，第一个参数为 <code>rebas</code> 实例，其余参数为调用 <code>use</code> 方法时传入的剩余参数</li>
</ul>
</li>
</ul>
<h4 id="setSyncData(name,_value)">setSyncData(name, value)</h4>
<p>设置需要前后端同步的数据，设置后前端的运行框架 <a href="https://github.com/ecomfe/saber-firework" target="_blank" rel="external">saber-firework</a> 可以通过其 API 获取到对应的数据</p>
<ul>
<li><strong>name</strong> <code>{string}</code> 数据名称</li>
<li><strong>value</strong> <code>{*}</code> 数据值，建议为 <code>number</code>、<code>string</code> 类型，或者其它任何可以被 <code>JSON.stringify</code> 方法序列化的数据类型</li>
</ul>
<h3 id="Config">Config</h3>
<p>以下所有的配置信息都是以 <code>JSON</code> 文件的形式存储在 <code>配置文件夹</code> 下，<code>配置文件夹</code> 的默认路径为 <code>config</code></p>
<h4 id="log">log</h4>
<p>日志配置文件 <code>log.json</code> ，<code>rebas</code> 使用 <a href="https://github.com/nomiddlename/log4js-node" target="_blank" rel="external">log4js-node</a> 提供日志服务，相关配置信息更详细的说明请参考 <a href="https://github.com/nomiddlename/log4js-node/wiki/Appenders" target="_blank" rel="external">log4js-node 的配置说明</a>，默认的配置信息如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">{</div><div class="line">    <span class="comment">// 是否将日志输出到标准输出(stdout)</span></div><div class="line">    <span class="built_in">console</span>: <span class="literal">false</span>,</div><div class="line">    <span class="comment">// 日志等级</span></div><div class="line">    level: <span class="string">'INFO'</span>,</div><div class="line">    <span class="comment">// 日志类型，默认为按时间分割的日志文件</span></div><div class="line">    type: <span class="string">'dateFile'</span>,</div><div class="line">    <span class="comment">// 日志默认存储在 `log` 目录下，名为 `rebas.log`</span></div><div class="line">    filename: <span class="string">'log/rebas.log'</span>,</div><div class="line">    <span class="comment">// 日志以小时级别切分</span></div><div class="line">    patter: <span class="string">'-MM-dd-hh'</span>,</div><div class="line">    alwaysIncludePattern: <span class="literal">false</span>,</div><div class="line">    <span class="comment">// 日志输出格式</span></div><div class="line">    layout: {</div><div class="line">        type: <span class="string">'pattern'</span>,</div><div class="line">        pattern: <span class="string">'[%d] [%x{pid}] [%p] - %m'</span>,</div><div class="line">        tokens: {</div><div class="line">            pid: process.pid</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></pre></td></tr></table></figure>


</article>

    

</main>

        <footer>
    <p>&copy;2014 <a href="http://efe.baidu.com" target="_blank">Baidu EFE</a>.</p>
</footer>

        <script src="/saber/js/master.js" type="text/javascript"></script>


    </body>
</html>
